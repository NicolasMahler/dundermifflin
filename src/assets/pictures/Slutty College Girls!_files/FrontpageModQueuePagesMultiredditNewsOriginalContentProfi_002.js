(window.webpackJsonp=window.webpackJsonp||[]).push([["Frontpage~ModQueuePages~Multireddit~News~OriginalContent~ProfilePage~SearchResults~Subreddit"],{"./src/lib/isPinnedAdminPost/index.ts":function(e,t,n){"use strict";var o=n("./src/lib/constants/index.ts");t.a=function(e,t){return e&&t===o.z.ADMIN}},"./src/reddit/components/CommentContainer/index.tsx":function(e,t,n){"use strict";var o,r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/reselect/lib/index.js"),c=n("./src/lib/classNames/index.ts"),a=n("./src/higherOrderComponents/withClickTracking.tsx"),l=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=Object(d.createStructuredSelector)({clickTrackingId:function(e,t){return t.comment.id}}),m=Object(s.connect)(u),f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.cancelClick=!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),p(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.afterClickTracking,o=t.children,r=t.className,i=t.comment,s=t.onClick;return l("div",{className:Object(c.a)(r,"Comment "+i.id),onMouseUp:function(t){0!==window.getSelection().toString().length&&(e.cancelClick=!0,window.setTimeout(function(){e.cancelClick=!1},1e3))},onClick:function(t){!e.cancelClick&&t.button<2&&n(function(){return s&&s(t,i)})(t)}},void 0,o)}}]),t}();t.a=m(Object(a.a)(f))},"./src/reddit/components/Comments/ProfileComment/index.tsx":function(e,t,n){"use strict";var o,r=n("./node_modules/polished/dist/polished.es.js"),i=n("./node_modules/react/index.js"),s=n.n(i),d=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/reselect/lib/index.js"),a=n("./bundled-modules/styled-components/styled-components.min.js"),l=n.n(a),p=n("./src/lib/constants/index.ts"),u=n("./node_modules/lodash/throttle.js"),m=n.n(u),f=n("./src/app/strings/index.ts"),h=n("./src/lib/fastdom/index.ts"),v=n("./src/reddit/helpers/styles/components/index.tsx"),g=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),b=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),y=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var O=.75,w=10*p.E,C=l.a.div.withConfig({componentId:"s1g5a2a4-0"})(["position: relative;display: inline-block;vertical-align: top;min-width: 150px;"]),j=l()(Object(v.a)()).withConfig({componentId:"s1g5a2a4-1"})(["mask-image: linear-gradient(to left, transparent 50px, rgba(0, 0, 0, 1) 85px);height: ","px;overflow: hidden;.md > * {display: none;&:first-child {display: inline-block;vertical-align: top;br {display: none;}}}.md > pre {&:first-child {display: grid;}}h1:first-child {margin-top: 0;","}blockquote:first-child {margin-top: 0;}table:first-child {margin-top: 0;border-width: 1px;th,td {border-width: 0;padding-top: 1px;}}pre {margin-top: 0;padding-top: 0;}ul, ul>li,ol, ol>li {margin-top: 0;padding-top: 0;}:empty {display: none;}"],function(e){return e.height},g.bodyFont),I=l.a.a.withConfig({componentId:"s1g5a2a4-2"})(["position: absolute;right: 0;top: 50%;margin-top: -8px;color: ",";","&, &:visited {color: ",";text-decoration: none;}"],function(e){return Object(b.c)(e).linkText},g.metadataFont,function(e){return Object(b.c)(e).linkText}),k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.commentElement=null,n.handleResize=m()(function(){if(n.state.expandToggled)return null;h.a.read(function(){(n.commentElement?n.commentElement.offsetHeight:0)<=n.props.height*(O+1)&&h.a.write(function(){n.setState({expandToggled:!0})})})},w),n.onShowMore=function(e){e.preventDefault(),n.setState({expandToggled:!0})},n.state={expandToggled:e.isExpanded},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),x(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.height,r=t.language;return this.state.expandToggled?y("div",{},void 0,n):y(C,{},void 0,y(j,{height:o},void 0,s.a.createElement("div",{ref:function(t){return e.commentElement=t}},n)),y(I,{href:"javascript: void 0;",onClick:this.onShowMore},void 0,Object(f.a)(r,"profile.seeMore")))}},{key:"componentDidUpdate",value:function(){this.state.expandToggled&&window&&window.removeEventListener("resize",this.handleResize)}},{key:"componentDidMount",value:function(){if(this.state.expandToggled)return null;this.props.isSinglelineContent&&(window.addEventListener("resize",this.handleResize),this.handleResize())}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.handleResize)}}]),t}(),P=Object(c.createStructuredSelector)({expandToggled:function(e){return e.expandToggled}}),S=Object(d.connect)(P)(k),L=n("./src/config.ts"),E=n("./node_modules/lodash/noop.js"),T=n.n(E),_=n("./src/reddit/helpers/styles/mixins/index.tsx"),M=n("./src/app/actions/tooltip.ts"),R=n("./src/app/models/Draft.ts"),D=n("./src/lib/makeCommentPermalink/index.ts"),N=n("./src/lib/makeCommentsPageKey/index.ts"),F=n("./src/lib/makeDraftKey/index.ts"),A=n("./src/reddit/actions/comment.ts"),B=n("./src/reddit/actions/modal.ts"),K=n("./src/reddit/actions/reportFlow.ts"),z=n("./src/reddit/components/CommentModModeDropdown/index.tsx"),V=n("./src/reddit/components/Comments/Comment/ModToolsFlatlist/index.tsx"),W=n("./src/reddit/components/ConfirmUserActionModal/index.tsx"),q=n("./src/reddit/components/DistinguishCommentDropdown/index.tsx"),$=n("./src/reddit/components/ModActionsMenu/index.tsx"),U=n("./src/reddit/components/ModModeReports/helpers.ts"),H=n("./src/reddit/components/ViewReportsDropdown/index.tsx"),G=n("./src/reddit/contexts/InsideOverlay.tsx"),Q=n("./src/reddit/contexts/PageLayer/index.tsx"),J=n("./src/reddit/helpers/hasModPostPermissions/index.ts"),X=n("./src/reddit/helpers/overlay/index.ts"),Z=n("./src/reddit/helpers/trackers/lightbox.ts"),Y=n("./src/reddit/helpers/trackers/post.ts"),ee=n("./src/reddit/selectors/activeModalId.ts"),te=n("./src/reddit/selectors/comments.ts"),ne=n("./src/reddit/selectors/moderatorPermissions.ts"),oe=n("./src/reddit/selectors/posts.ts"),re=n("./src/reddit/selectors/tooltip.ts"),ie=n("./src/reddit/selectors/user.ts"),se=n("./src/reddit/components/OverflowMenu/index.tsx"),de=n("./src/reddit/components/ReportFlow/index.tsx"),ce=n("./src/reddit/components/ShareMenu/index.tsx"),ae=n("./src/reddit/components/TrackingHelper/index.tsx"),le=n("./src/reddit/controls/Dropdown/Row.tsx"),pe=n("./src/reddit/helpers/trackers/modTools.ts"),ue=n("./src/reddit/layout/row/Inline/index.tsx"),me=n("./src/reddit/icons/fonts/IgnoreReport/index.tsx"),fe=n("./src/reddit/icons/fonts/ModActions/index.tsx"),he=n("./src/reddit/icons/fonts/Report/index.tsx"),ve=n("./src/reddit/icons/svgs/Flag/index.tsx"),ge=n("./src/reddit/icons/svgs/Pencil/index.tsx"),be=n("./src/reddit/icons/svgs/Save/index.tsx"),ye=n("./src/reddit/icons/svgs/Saved/index.tsx"),xe=n("./src/reddit/icons/svgs/Star/index.tsx"),Oe=n("./src/reddit/icons/svgs/Trash2/index.tsx"),we=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var je=l()(Oe.a).withConfig({componentId:"mq9a29-0"})(["",""],le.d),Ie=l()(ve.a).withConfig({componentId:"mq9a29-1"})(["",""],le.d),ke=l()(ge.a).withConfig({componentId:"mq9a29-2"})(["",""],le.d),Pe=l()(be.a).withConfig({componentId:"mq9a29-3"})(["",""],le.d),Se=l()(ye.a).withConfig({componentId:"mq9a29-4"})(["",""],le.d),Le=l()(xe.a).withConfig({componentId:"mq9a29-5"})(["",""],le.d),Ee=l()(se.b).withConfig({componentId:"mq9a29-6"})(["","border-radius: 4px;cursor: pointer;height: 24px;line-height: 0px; // this seems to better vertically align the icon\npadding: 0 4px;"],_.p),Te=l()(V.c).withConfig({componentId:"mq9a29-7"})(["border-left: 1px solid ",";padding-left: 4px;margin-left: 12px;"],function(e){return Object(b.c)(e).widgetColors.lineColor}),_e=l()($.a).withConfig({componentId:"mq9a29-8"})(["border-left: 1px solid ",";padding-left: 8px;margin-left: 12px;"],function(e){return Object(b.c)(e).widgetColors.lineColor}),Me=l()(le.c).withConfig({componentId:"mq9a29-9"})(["padding: 8px 16px 8px 8px;cursor: pointer;"]),Re=l()(ue.a).withConfig({componentId:"mq9a29-10"})(["color: ",";",";margin-left: -4px;"],function(e){return Object(b.c)(e).actionIcon},g.actionFont),De=Object(a.css)(["display: inline-block;margin: 4px;transition: color 0.1s;&::first-letter {text-transform: uppercase;}&:disabled {cursor: default;}&:hover {text-decoration: underline;}"]),Ne=Object(a.css)(["&.not(:disabled):hover {color: ",";}"],function(e){return Object(b.c)(e).bodyText}),Fe=l()(l.a.button.withConfig({componentId:"mq9a29-12"})(["",""],De)).withConfig({componentId:"mq9a29-11"})(["",""],Ne),Ae=function(e){return"Comment-"+e+"--Modal--DeleteComment"},Be=function(e){return"Distinguish--Dropdown--"+e},Ke=function(e,t){return e+"--"+t+"-overflow-menu"},ze=function(e){return"View--Reports--"+e},Ve=Object(c.createStructuredSelector)({activeTooltipId:re.a,isConfirmModalOpen:function(e,t){var n=t.comment;return Object(ee.a)(e)===Ae(n.id)},isPendingDeletion:te.y,isLoggedIn:ie.u,moderatorPermissions:function(e,t){var n=t.comment;return Object(ne.f)(e,{subredditId:n.subredditId})},currentUser:ie.g,modModeEnabled:Q.H,postIsLocked:function(e,t){var n=t.comment;return Object(oe.v)(e,{postId:n.postId})},postPermalink:function(e,t){var n=t.comment;return Object(oe.w)(e,{postId:n.postId})},reportFlowIsOpen:function(e,t){var n=t.comment;return e.reportFlow.postOrCommentId===n.id},subredditOrProfile:function(e,t){var n=t.comment;return Object(oe.H)(e,{postId:n.postId})}}),We=Object(d.connect)(Ve,function(e,t){var n=t.comment,o=t.commentsPageKey,r=t.language;return{deleteComment:function(){return o&&e(Object(A.Y)(r,n.id,o))},onDistinguishComment:function(t,o){return e(Object(A.P)(n.id,t,o))},onIgnoreReports:function(){return e(Object(A.Ka)(n.id))},onReportClick:function(){return e(Object(K.i)(n.id))},onToggleDistinguishDropdown:function(){return e(Object(M.e)({tooltipId:Be(n.id)}))},onToggleReportsDropdown:function(){return e(Object(M.e)({tooltipId:ze(n.id)}))},onToggleSave:function(){return e(Object(A.Ba)(n.id))},handleDelete:function(){e(Object(B.e)(Ae(n.id))),e(Object(M.e)({tooltipId:Ke(o,n.id)}))},handleEdit:function(t){var o=Object(N.a)(n.postId,n.id,{}),r={commentId:n.id,draftKey:Object(F.a)(R.a.edit,n.id),text:n.bodyMD,commentMode:n.media&&n.media.rteMode,commentsPageKey:o};e(Object(X.a)(t)),e(Object(A.V)(r))},handleReply:function(t){var o=Object(N.a)(n.postId,n.id,{}),r={parentCommentId:n.id,commentsPageKey:o};e(Object(X.a)(t)),e(Object(A.W)(r))},toggleDeleteCommentModal:function(){return e(Object(B.e)(Ae(n.id)))}}}),qe=function(e,t,n){var o=L.a.redditUrl+"/gold/payment?goldtype=gift&months=1&thing="+e;window.open(o,"_blank"),n(t?Object(Y.d)(e,"gild"):Object(pe.a)("gild",e))},$e=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleDistinguishToggle=function(){e.props.sendEvent(Object(pe.a)("mod_distinguish_menu",e.props.comment.id)),e.props.onToggleDistinguishDropdown()},e.handleEdit=function(){return e.props.handleEdit(e.props.comment.permalink)},e.handleGiveGold=function(){return qe(e.props.comment.id,!1,e.props.sendEvent)},e.handleIgnoreReports=function(){e.props.onIgnoreReports(),e.sendCommentReportEvent(e.props.comment.ignoreReports?"restore_reports":"ignore_reports")},e.handleModActionsMenu=function(){return e.props.sendEvent(Object(pe.a)("comment_mod_action_menu",e.props.comment.id))},e.handleOverflowMenuClick=function(){return e.props.sendEvent(Object(pe.a)("comment_overflow_menu",e.props.comment.id))},e.handleDelete=function(){return e.props.handleDelete()},e.handleReply=function(){return e.props.handleReply(e.props.comment.permalink)},e.handleRestrictedButtonClick=function(){e.props.onToggleReportsDropdown(),e.sendCommentModEventWithName("comment_report_menu")},e.handleSave=function(){e.props.comment.isSaved?e.props.sendEvent(Object(pe.a)("unsave",e.props.comment.id)):e.props.sendEvent(Object(pe.a)("save",e.props.comment.id)),e.props.onToggleSave()},e.sendCommentDistinguishEvent=function(t){return e.props.sendEvent(Object(pe.b)(t,e.props.comment.id))},e.sendCommentEventWithName=function(t){return e.props.sendEvent(Object(Z.b)(e.props.comment.postId,"comment_"+t))},e.sendCommentEventWithNameShare=function(){return e.sendCommentEventWithName("share")},e.sendCommentModEventWithName=function(t){return e.props.sendEvent(Object(pe.a)(t,e.props.comment.id))},e.sendCommentReportEvent=function(t){return e.props.sendEvent(Object(pe.e)(t,e.props.comment.id))},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),Ce(t,[{key:"renderModTools",value:function(){var e=this.props,t=e.comment,n=e.currentUser,o=e.isOverlay,r=e.language,i=e.moderatorPermissions,s=e.modModeEnabled,d=e.showModTools,c=Object(J.a)(i),a=!!n&&n.displayText===t.author;if(d&&c)return s?we(Te,{comment:t,isCommentAuthor:a,language:r}):we(_e,{dropdownId:t.id+"-profile-mod-actions-menu",inCommentFlatlist:!0,onClick:this.handleModActionsMenu},void 0,we(fe.a,{}),we(z.a,{comment:t,isOverlay:!!o,language:r,tooltipId:t.id+"-profile-mod-actions-menu"}))}},{key:"renderReportsDropdown",value:function(){var e=this.props,t=e.comment,n=e.isOverlay,o=e.language,r=e.modModeEnabled,i=e.showModTools,s=Object(U.a)(t);if(i&&Object(U.c)(t)&&!r)return we(V.b,{text:""+s,onClick:this.handleRestrictedButtonClick,selected:this.props.activeTooltipId===ze(t.id),id:ze(t.id)},void 0,we(H.a,{isOverlay:!!n,language:o,model:t,onIgnoreReports:this.handleIgnoreReports,tooltipId:ze(t.id)}),t.ignoreReports?we(me.a,{}):we(he.a,{}))}},{key:"renderDistinguishDropdown",value:function(){var e=this.props,t=e.comment,n=e.currentUser,o=e.isOverlay,r=e.language,i=e.moderatorPermissions,s=e.modModeEnabled,d=e.onDistinguishComment,c=e.showModTools,a=Object(J.a)(i),l=!!n&&n.displayText===t.author,p=!!n&&n.isEmployee;if(c&&l&&!t.bannedBy&&(p||a&&!s))return we(V.b,{onClick:this.handleDistinguishToggle,selected:this.props.activeTooltipId===Be(t.id)},void 0,we(V.a,{}),we(q.a,{isAdminDistinguished:t.isAdmin,isDropdownOpen:this.props.activeTooltipId===Be(t.id),isModDistinguished:t.isMod,isOverlay:!!o,isStickied:t.isStickied,isTopLevelComment:!t.parentId,isUserEmployee:p,isUserMod:a,language:r,onDistinguishComment:d,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:Be(t.id)}))}},{key:"render",value:function(){var e=this.props,t=e.comment,n=e.className,o=e.commentsPageKey,r=e.currentUser,i=e.deleteComment,s=e.isOverlay,d=e.isLoggedIn,c=e.isPendingDeletion,a=e.language,l=e.moderatorPermissions,p=e.postIsLocked,u=e.postPermalink,m=e.toggleDeleteCommentModal,h=Object(J.a)(l),v=!!r&&r.displayText===t.author;return we("div",{className:n},void 0,we(Re,{},void 0,(p?h&&d:d)&&we(Fe,{onClick:this.handleReply,disabled:c},void 0,Object(f.a)(a,"comment.reply")),we(ce.a,{dropdownId:o+"--"+t.id+"-comment-share-menu",isOverlay:!!s,permalink:Object(D.a)(u,t.id),sendEventWithName:this.sendCommentEventWithName},void 0,we(Fe,{onClick:this.sendCommentEventWithNameShare},void 0,Object(f.a)(a,"posts.share"))),this.renderReportsDropdown(),we(Ee,{dropdownId:Ke(o,t.id),isOverlay:!!s,onClick:this.handleOverflowMenuClick},void 0,!v&&d&&!c&&we(Me,{displayText:Object(f.a)(a,"comment.report"),onClick:this.props.onReportClick},void 0,we(Ie,{})),we(Me,{displayText:t.isSaved?Object(f.a)(a,"comment.unsaveComment"):Object(f.a)(a,"comment.saveComment"),isSelected:t.isSaved,onClick:this.handleSave},void 0,t.isSaved?we(Se,{}):we(Pe,{})),r&&!v&&we(Me,{displayText:Object(f.a)(a,"comment.gold"),onClick:this.handleGiveGold},void 0,we(Le,{})),v&&we(Me,{displayText:Object(f.a)(a,"comment.edit"),onClick:this.handleEdit},void 0,we(ke,{})),v&&we(Me,{displayText:Object(f.a)(a,"comment.delete"),onClick:this.handleDelete},void 0,we(je,{}))),this.props.isConfirmModalOpen&&we(W.a,{actionText:Object(f.a)(a,"comment.delete"),cancelActionText:Object(f.a)(a,"comment.keep"),headerText:Object(f.a)(a,"comment.deleteComment"),modalText:Object(f.a)(a,"comment.deleteConfirmation"),onConfirm:i,toggleModal:m,trackClick:T.a,withOverlay:!0}),this.renderModTools(),this.renderDistinguishDropdown()),this.props.reportFlowIsOpen&&we(de.a,{withOverlay:!0,commentId:this.props.comment.id,overlayCustomStyles:de.b,postId:this.props.comment.postId}))}}]),t}(),Ue=We(Object(ae.b)(Object(G.b)($e))),He=n("./src/reddit/components/Comments/Comment/TopMeta/index.tsx"),Ge=n("./src/reddit/components/RawHTMLDisplay/index.tsx"),Qe=n("./src/reddit/constants/colors.ts"),Je=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Xe=l()(He.a).withConfig({componentId:"ugpaqg-0"})(["height: 16px;margin-left: 0;"]),Ze=l()(Object(v.a)()).withConfig({componentId:"ugpaqg-1"})(["width: 100%;max-width: none;",""],function(e){return e.isRemoved?"border: 2px solid "+Qe.a.removed+";\n      background-color: "+Object(r.e)(Qe.a.removed,.05)+";\n      padding-left: 4px;\n      padding-top: 4px;\n      margin-top: -4px;":""}),Ye=l.a.div.withConfig({componentId:"ugpaqg-2"})(["padding: 2px 0;width: 100%;"]),et=Object(d.connect)(function(){return Object(c.createStructuredSelector)({comment:function(e,t){return Object(te.m)(e,t)},flair:te.e,language:ie.z})});t.a=et(function(e){var t=e.comment,n=e.commentsPageKey,o=e.flair,r=e.isExpanded,i=e.language,s=e.showFlatlist,d=e.showModTools,c=Je(Ge.a,{html:t.body}),a=!t.bodyMD.includes("\n");return Je(Ze,{isRemoved:!!t.bannedBy},void 0,Je(Xe,{collapsed:!1,comment:t,commentsPageKey:n,flair:o,language:i,renderedInOverlay:!1}),Je("div",{},void 0,!t.isDeleted&&Je(Ye,{},void 0,r?c:Je(S,{height:p.rb,isExpanded:r,isSinglelineContent:a,language:i},void 0,c)),!t.isDeleted&&s&&Je(Ue,{comment:t,commentsPageKey:n,language:i,showModTools:d})))})},"./src/reddit/components/OverviewCommentPost/index.tsx":function(e,t,n){"use strict";var o,r=n("./src/app/strings/index.ts"),i=n("./node_modules/react/index.js"),s=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/reselect/lib/index.js"),c=n("./bundled-modules/styled-components/styled-components.min.js"),a=n.n(c),l=n("./src/reddit/components/TrackingHelper/index.tsx"),p=n("./src/reddit/constants/colors.ts"),u=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),m=n("./src/reddit/controls/InternalLink/index.tsx"),f=n("./src/reddit/helpers/styles/mixins/index.tsx"),h=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),v=n("./src/reddit/selectors/comments.ts"),g=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/user.ts"),y=n("./src/reddit/components/PostContainer/index.tsx"),x=n("./src/reddit/components/PostTitle/index.tsx"),O=n("./src/reddit/components/PostTopMeta/index.tsx"),w=n("./src/reddit/components/SubredditNameAndIcon/index.tsx"),C=n("./src/reddit/controls/OutboundLink/styled.tsx"),j=n("./src/reddit/icons/fonts/Comment/index.tsx"),I=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),k=a()(m.a).withConfig({componentId:"s1dzlsgl-0"})(["","","color: ",";"],"\n  text-decoration: none;\n  &:hover {\n    text-decoration: underline;\n  }\n",u.metadataFont,function(e){return Object(h.c)(e).button}),P=a.a.div.withConfig({componentId:"s1dzlsgl-1"})(["","padding: 0 8px;"],f.q),S=a.a.div.withConfig({componentId:"s1dzlsgl-2"})(["padding: 8px 0;display: flex;"]),L=a()(j.a).withConfig({componentId:"s1dzlsgl-3"})(["flex: 0 0 20px;font-size: 20px;margin-right: 8px;"]),E=a.a.div.withConfig({componentId:"s1dzlsgl-4"})(["flex: 1 1 auto;",""],u.metadataFont),T=a.a.div.withConfig({componentId:"s1dzlsgl-5"})(["display: inline;& > div {display: inline;& > span {display: inline;}}"]),_=a()(x.c).withConfig({componentId:"s1dzlsgl-6"})(["",","," {","}"," {margin-right: 5px;}"],C.a,x.a,u.metadataFont,C.a),M=a()(O.d).withConfig({componentId:"s1dzlsgl-7"})(["display: inline;",""," {display: inline;vertical-align: baseline;","}"," {line-height: 16px;}"],u.metadataFont,w.a,u.metadataFont,O.a),R=a()(O.a).withConfig({componentId:"s1dzlsgl-8"})(["line-height: 16px;margin-left: -1px;vertical-align: middle;"]),D=Object(s.connect)(function(){return Object(d.createStructuredSelector)({comment:v.m,language:b.z,post:g.x,subredditOrProfile:g.H})}),N=function(e){var t=e.language,n=e.post,o=e.subredditOrProfile;if(o)return I(i.Fragment,{},void 0,I(R,{}),I(M,{language:t,post:n,showGold:!1,showSub:!0,showTimestamp:!1,subredditOrProfile:o}))},F=function(e){var t=e.comment,n=e.profileName;if(!t)return null;var o=n||t.author;return I(k,{"data-click-id":"user",to:"/user/"+o},void 0,o)};t.a=D(a()(Object(l.b)(function(e){var t=e.className,n=e.eventFactory,o=e.language,i=e.onClickPost,s=e.post;return I("div",{},void 0,I(y.a,{className:t,post:s,onClick:i,eventFactory:n},void 0,I(P,{},void 0,I(S,{},void 0,I(L,{}),I(E,{},void 0,F(e),Object(r.a)(o,"posts.commentedOn"),I(T,{},void 0,I(_,{post:s,size:x.b.Small})),N(e))))))})).withConfig({componentId:"s1dzlsgl-9"})(["","","&&,&&:hover {","}"],f.i,O.e,function(e){return e.post.bannedBy?"border-left: 4px solid "+p.a.removed:e.post.numReports&&e.post.numReports>0?"border-left: 4px solid "+p.a.reported:""}))},"./src/reddit/components/OverviewConversationsPost/Border/index.ts":function(e,t,n){"use strict";var o=n("./bundled-modules/styled-components/styled-components.min.js"),r=n.n(o),i=n("./src/reddit/helpers/styles/mixins/index.tsx"),s=r.a.div.withConfig({componentId:"omwqa8-0"})(["",""],i.r);t.a=s},"./src/reddit/components/OverviewConversationsPost/OverviewConversationsComment/index.tsx":function(e,t,n){"use strict";var o,r=n("./node_modules/lodash/times.js"),i=n.n(r),s=n("./node_modules/polished/dist/polished.es.js"),d=n("./node_modules/react/index.js"),c=n.n(d),a=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/reselect/lib/index.js"),p=n("./bundled-modules/styled-components/styled-components.min.js"),u=n.n(p),m=n("./src/lib/addQueryParams/index.ts"),f=n("./src/reddit/components/CommentContainer/index.tsx"),h=n("./src/reddit/components/Comments/ProfileComment/index.tsx"),v=n("./src/reddit/components/OverviewConversationsPost/Border/index.ts"),g=n("./src/reddit/helpers/overlay/index.ts"),b=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),y=n("./src/reddit/selectors/comments.ts"),x=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var w=u.a.div.withConfig({componentId:"vxu8mk-0"})(["fill: ",";background: ",";padding: 4px 8px;border-radius: 4px;"],function(e){return Object(b.c)(e).actionIcon},function(e){return Object(s.j)(.95,Object(b.c)(e).button)}),C=u.a.div.withConfig({componentId:"vxu8mk-1"})(["flex: 1 1 auto;margin-bottom: ",";"],function(e){return e.isLast?"0":"8px"}),j=u.a.div.withConfig({componentId:"vxu8mk-2"})(["margin: 0 8px;padding: 0 0 0 8px;display: flex;align-items: stretch;","",""],function(e){return e.isFirst?I:""},function(e){return e.isLast?k:""}),I=Object(p.css)(["padding-top: 8px;margin-top: -1px;border-top: 2px solid ",";",":hover & {border-top-width: 0;padding-top: 10px;}"],function(e){return Object(b.c)(e).line},v.a),k=Object(p.css)(["padding-bottom: 8px;"]),P=u.a.div.withConfig({componentId:"vxu8mk-3"})(["border-left: 2px dashed ",";flex: 0 0 1px;margin-right: 16px;"],function(e){return Object(b.c)(e).line}),S=Object(a.connect)(function(){return Object(l.createStructuredSelector)({comment:function(e,t){return Object(y.m)(e,t)}})},function(e,t){return{openLightbox:function(t){return e(Object(g.a)(t))}}}),L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),O(t,[{key:"render",value:function(){var e=this.props,t=e.comment,n=e.commentId,o=e.depth,r=e.openLightbox,s=e.isFirst,d=e.isLast,c=e.profileName,a=e.showModTools,l=c===t.author?E:T;return x(f.a,{comment:t,onClick:function(e,t){e.metaKey||e.ctrlKey||1===e.button?window.open(Object(m.a)(t.permalink,{context:3})):r(Object(m.a)(t.permalink,{context:3})),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},void 0,x(j,{isFirst:s,isLast:d},void 0,i()(o+1,function(e){return x(P,{},e)}),x(C,{isLast:d},void 0,l(n,c,a))))}}]),t}(),E=function(e,t,n){return x(w,{},void 0,T(e,t,n,!0,!0))},T=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments[4];return x(h.a,{commentId:e,commentsPageKey:"profileOverviewPageKey",showFlatlist:o,showModTools:n,isExpanded:!!r})};t.a=S(L)},"./src/reddit/components/PostList/LoadMore.tsx":function(e,t,n){"use strict";var o=n("./bundled-modules/styled-components/styled-components.min.js"),r=n.n(o),i=n("./src/reddit/components/PostList/Placeholder.tsx");t.a=r()(i.a).withConfig({componentId:"rybpsf-0"})(["height: ","px;overflow: hidden;margin-bottom: -20px;"],156)},"./src/reddit/components/PostList/SomethingWrong.tsx":function(e,t,n){"use strict";n("./node_modules/react/index.js");var o,r=n("./src/app/helpers/describeApiError/index.ts"),i=n("./src/app/strings/index.ts"),s=n("./src/reddit/connectors/connectToLanguage.ts"),d=n("./src/reddit/controls/Button/index.tsx"),c=n("./src/reddit/components/PostList/index.m.less"),a=n.n(c),l=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.a=Object(s.a)(function(e){var t=e.language,n=e.onTryAgain,o=e.apiError,s=Object(i.a)(t,"posts.somethingWentWrongWhileLoading");return o&&(s=Object(r.a)({apiError:o,language:t,isLoggedOut:!1})),l("div",{className:a.a.somethingWrong},void 0,l("div",{className:a.a.somethingWrongText},void 0,s),n&&l(d.b,{onClick:n},void 0,Object(i.a)(t,"posts.tryAgain")))})},"./src/reddit/components/PostList/index.m.less":function(e,t,n){e.exports={placeholder:"FohHGMokxXLkon1aacMoi",somethingWrong:"zfoxmi0VvZvMZu1rHVbMX",somethingWrongText:"Ii7DEkcMDxQHElTHeeaci"}},"./src/reddit/components/PostList/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/lodash/debounce.js"),r=n.n(o),i=n("./node_modules/lodash/last.js"),s=n.n(i),d=n("./node_modules/react/index.js"),c=n.n(d),a=n("./node_modules/react-dom/index.js"),l=n("./bundled-modules/styled-components/styled-components.min.js"),p=n.n(l),u=n("./src/lib/constants/index.ts"),m=n("./src/lib/opener/index.ts"),f=n("./src/lib/raven/index.ts"),h=n("./src/reddit/components/PostList/LoadMore.tsx"),v=n("./src/reddit/components/PostList/SomethingWrong.tsx"),g=n("./src/reddit/components/PromoBanners/index.tsx"),b=n("./src/reddit/components/Scroller/Simple.tsx"),y=n("./src/reddit/constants/adEvents.ts"),x=n("./src/reddit/constants/componentSizes.ts"),O=n("./src/reddit/constants/postLayout.ts"),w=n("./src/reddit/constants/promos.ts"),C=n("./node_modules/react-redux/es/index.js"),j=n("./node_modules/reselect/lib/index.js"),I=n("./src/reddit/actions/ad.ts"),k=n("./src/reddit/actions/post.ts"),P=n("./src/reddit/actions/postList.ts"),S=n("./src/reddit/components/TrackingHelper/index.tsx"),L=n("./src/reddit/contexts/PageLayer/index.tsx"),E=n("./src/reddit/helpers/overlay/index.ts"),T=n("./src/reddit/helpers/postComponentForLayout/index.tsx"),_=n("./src/reddit/helpers/trackers/post.ts"),M=n("./src/reddit/components/PostList/Placeholder.tsx"),R=n("./src/reddit/featureFlags/index.ts"),D=n("./src/reddit/selectors/listings.ts"),N=n("./src/reddit/selectors/posts.ts"),F=n("./src/reddit/selectors/subreddit.ts"),A=n("./src/reddit/selectors/tracking.ts"),B=Object(L.q)(),K={apiError:D.c,apiPending:D.d,measureScrollFPS:R.d.measureScrollFPS,layout:L.F,loadMore:D.f,postsById:N.G,postIds:N.t,subredditsById:F.w,viewportDataLoaded:A.c,postListPlaceholderComponent:function(){return M.a}},z=Object(j.createStructuredSelector)(K),V=function(e,t){return{onBottomViewed:function(t,n){return e(P.c(t,n))},adBrandSafetyStatusReceived:function(t,n){e(I.f({isViewSafe:t,isViewAllAds:n}))},openLightbox:function(t){e(Object(E.a)(t.permalink))},trackOnPostEnteredViewport:function(t,n){e(k.t(t))},trackOnPostExitedViewport:function(t,n,o){e(k.u(t,o))}}},W=Object(C.connect)(z,V,function(e,t,n){return Object.assign({},e,t,n,{postClickEvent:_.d,postComponentForLayout:T.b})}),q=n("./src/reddit/components/ClassicPost/index.tsx"),$=n("./src/reddit/selectors/news.ts"),U=n("./src/reddit/selectors/user.ts"),H=Object(j.createStructuredSelector)(Object.assign({},K,{postListPlaceholderComponent:function(){return M.a},viewportDataLoaded:A.c,language:U.z,postIds:$.g,layout:function(){return O.e.Classic}})),G=Object(L.q)(),Q=Object(C.connect)(H,V,function(e,t,n){return Object.assign({},e,t,n,{postClickEvent:_.d,postComponentForLayout:function(e){return e.isBlank?T.a:q.a}})}),J=n("./src/lib/isPinnedAdminPost/index.ts"),X=n("./src/lib/makeOverviewConversationsItemKey/index.ts");var Z,Y=n("./src/reddit/helpers/styles/mixins/index.tsx"),ee=n("./src/reddit/components/LargePost/index.tsx"),te=n("./src/reddit/components/OverviewCommentPost/index.tsx"),ne=n("./src/reddit/components/OverviewConversationsPost/Border/index.ts"),oe=n("./src/app/strings/index.ts"),re=n("./src/reddit/actions/profileConversations.ts"),ie=n("./src/reddit/contexts/TrackCommentsPageClick.ts"),se=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),de=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),ce=n("./src/reddit/selectors/profile.ts"),ae=(Z="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var d=Array(i),c=0;c<i;c++)d[c]=arguments[c+3];t.children=d}return{$$typeof:Z,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),le=p.a.div.withConfig({componentId:"gspgvw-0"})(["border-top: 2px solid ",";margin-top: -1px;padding: 4px 0;",":hover & {border-top-width: 0;padding-top: 6px;}"],function(e){return Object(de.c)(e).line},ne.a),pe=p.a.p.withConfig({componentId:"gspgvw-1"})(["","border-radius: 4px;color: ",";cursor: pointer;height: 24px;margin-left: 12px;padding-top: 8px;"],se.actionFont,function(e){return Object(de.c)(e).button}),ue=p()(pe).withConfig({componentId:"gspgvw-2"})(["&:hover {text-decoration: underline;}"]),me=Object(C.connect)(function(){return Object(j.createStructuredSelector)({extraCommentsItem:ce.a,extraCommentsPending:function(e,t){var n=t.extraCommentsId;return!!e.profileOverviewPage.conversations.extraComments.api.pending[n]},language:U.z})},function(e,t){var n=t.profileName;return{extraCommentsClicked:function(t){return e(Object(re.g)(n,t.postId,t.id))}}})(function(e){var t=e.language,n=e.extraCommentsClicked,o=e.extraCommentsItem,r=e.extraCommentsPending;return ae(le,{},void 0,r?ae(pe,{},void 0,Object(oe.a)(t,"comment.extraReplyLoading")):ae(ie.a.Consumer,{},void 0,function(e){return ae(ue,{onClick:function(e){n(o),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},void 0,Object(oe.a)(t,"comment.extraReply"))}))}),fe=n("./src/reddit/components/OverviewConversationsPost/OverviewConversationsComment/index.tsx"),he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ve=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),ge=p.a.div.withConfig({componentId:"gmfptp-0"})(["","border-bottom-left-radius: 5px;border-bottom-right-radius: 5px;"],Y.q),be=p()(q.c).withConfig({componentId:"gmfptp-1"})(["border: none;&:hover {border: none;}"]),ye=p()(te.a).withConfig({componentId:"gmfptp-2"})(["border: none;&:hover {border: none;}"]),xe=Object(L.q)({currentProfileName:L.h,pageLayer:function(e){return e}}),Oe=Object(C.connect)(function(){return Object(j.createStructuredSelector)({commentThreadLinkSets:function(e,t){var n=t.postId,o=t.currentProfileName,r=o?o.toLowerCase():"",i=Object(X.a)(n,r);return e.profileOverviewPage.conversations.keyToCommentThreadLinkSets[i]},headComment:function(e,t){var n=t.postId,o=t.currentProfileName,r=o?o.toLowerCase():"",i=Object(X.a)(n,r);return e.profileOverviewPage.conversations.keyToHeadCommentId[i]},isInitiallyPinned:function(e,t){var n=t.postId,o=t.currentProfileName;return!!o&&Object(N.j)(e,n,o)},isPinned:function(e,t){var n=t.postId,o=t.currentProfileName;return!!o&&Object(N.n)(e,n,o)},post:N.x,profileName:function(e,t){var n=t.currentProfileName;if(n)return function(e,t){var n=e.users,o=t.toLowerCase(),r=n.models[o];return r?r.username:void 0}(e,n)},layout:L.F})}),we=p()(ee.a).withConfig({componentId:"gmfptp-3"})(["border: none;box-shadow: none;margin-bottom: 0px;&:hover {border: none;}"]),Ce=xe(Oe(p()(function(e){var t=e.availableWidth,n=e.className,o=e.commentThreadLinkSets,r=e.eventFactory,i=e.forceLoadMedia,d=e.headComment,a=e.isInitiallyPinned,l=e.isPinned,p=e.isScrolling,u=e.last,m=e.layout,f=e.onClickPost,h=e.onSizeChanged,v=e.post,g=e.postId,b=e.profileName,y=e.scrollerItemRef,x={last:u,onClickPost:f,postId:g};if(!b)return null;var w=b===v.author,C=Object(J.a)(l,v.distinguishType);if(!w&&!d&&!C)return null;var j=d?function(e){for(var t=[],n=e.length,o=0;o<n;o++)(0===o||e[o-1].depth!==e[o].depth-1)&&t.push([]),s()(t).push(e[o]);return t}(function(e,t){for(var n=[],o=t,r="comment";o;){var i=e[o];n.push({id:o,depth:i.depth,type:r}),i.next?(o=i.next.id,r=i.next.type):o=void 0}return n}(o,d)):[],I=j.length-1;return ve("div",{className:n},void 0,ve(ne.a,{isFirst:!0,isLast:I<0},v.id,!w&&!!d&&c.a.createElement(ye,he({},x,{commentId:d,key:v.id,profileName:b})),(w||C)&&(m===O.e.Classic?ve(be,{availableWidth:t,eventFactory:r,inSubredditOrProfile:!1,isOverlay:!1,isScrolling:p,forceLoadMedia:i,last:u,onClickPost:f,onSizeChanged:h,postId:g,scrollerItemRef:y}):ve(we,{availableWidth:t,eventFactory:r,isScrolling:p,forceLoadMedia:i,last:u,onClickPost:f,onSizeChanged:h,postId:g,scrollerItemRef:y}))),ve(ge,{},void 0,!a&&j.map(function(e,t){return ve(ne.a,{isLast:t===I},t+"-isLast["+(t===I)+"]",e.map(function(t,n){var o=0===n,r=n===e.length-1;return"comment"===t.type?ve(fe.a,{commentId:t.id,depth:t.depth,isFirst:o,isLast:r,profileName:b,showModTools:!0},t.id):ve(me,{extraCommentsId:t.id,profileName:b},t.id)}))})))}).withConfig({componentId:"gmfptp-4"})(["","background-color: ",";border: none;border-radius: 5px;cursor: pointer;overflow: visible;padding-left: 0px;&:hover {border: none;}"],Y.n,function(e){return Object(de.c)(e).post}))),je=Object(j.createStructuredSelector)(Object.assign({},K,{postIds:N.C,viewportDataLoaded:A.c})),Ie=Object(L.q)(),ke=Object(C.connect)(je,V,function(e,t,n){return Object.assign({},e,t,n,{postClickEvent:_.d,postComponentForLayout:function(e){return e.isBlank?T.a:Ce}})}),Pe=n("./src/reddit/helpers/trackers/searchResults.ts"),Se=n("./src/reddit/selectors/telemetry.ts"),Le=Object(L.q)(),Ee=Object(j.createStructuredSelector)(Object.assign({},K,{layout:function(){return O.e.Classic},viewportDataLoaded:A.b})),Te=Object(C.connect)(Ee,function(e,t){return Object.assign({},V(e),{trackOnPostEnteredViewport:function(e){!function(e,t,n){e(function(e){return Object.assign({},Object(Pe.a)(e,n),{source:"search",action:"view",noun:"search_results_post",correlationId:Object(Pe.c)(),actionInfo:Se.actionInfo(e),search:Se.search(e,n),post:Se.post(e,t)})})}(t.sendEvent,e,Object.assign({},t.searchOptions,{id:e,eventType:"post"}))}})},function(e,t,n){return Object.assign({},e,t,n,{openLightbox:function(e){t.openLightbox(e)},postClickEvent:function(e,t){var o,r;return"body"===t?function(e,t,n){e(function(e){return Object.assign({},Object(Pe.a)(e,n),{source:"search",action:"click",noun:"search_result_post",correlationId:Object(Pe.c)(),actionInfo:Se.actionInfo(e),search:Se.search(e,n),post:Se.post(e,t)})})}(n.sendEvent,e,Object.assign({},n.searchOptions,{id:e,eventType:"post"})):"subreddit"===t?(o=n.sendEvent,r=Object.assign({},n.searchOptions,{id:e,eventType:"subreddit"}),o(function(e){return Object.assign({},Object(Pe.a)(e,r),{source:"search",action:"click",noun:"search_result_subreddit",correlationId:Object(Pe.c)(),actionInfo:Se.actionInfo(e),search:Se.search(e,r),subreddit:Se.subreddit(e)})})):"comments"===t&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";e(function(e){return Object.assign({},Object(Pe.a)(e,t),{action:"click",noun:n,source:"search_results"})})}(n.sendEvent,n.searchOptions,"comments"),Object(_.d)(e,t)},postComponentForLayout:function(e){return e.isBlank?T.a:q.b}})}),_e=n("./src/reddit/helpers/pixels.ts"),Me=n("./src/reddit/models/Media/index.ts"),Re=n("./src/reddit/helpers/brandSafety/index.ts"),De=n("./src/lib/LRUCache/index.ts"),Ne=n("./src/telemetry/index.ts"),Fe=n("./src/telemetry/models/Timer.ts"),Ae=n("./src/reddit/components/PostList/index.m.less"),Be=n.n(Ae);n.d(t,"e",function(){return Qe}),n.d(t,"a",function(){return Ze}),n.d(t,"c",function(){return Ye}),n.d(t,"b",function(){return et});var Ke=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var Ve,We=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n},qe=500,$e=new De.a(qe),Ue=new De.a(qe),He=new De.a(qe),Ge={LARGE:1,MEDIUM:1,CLASSIC:3,COMPACT:5},Qe=function(e,t){var n="click-"+e,o=He.get(n);return void 0===o&&(o=function(e,n){var o=!(!e.metaKey&&!e.ctrlKey&&1!==e.button);n.isSponsored&&Object(_e.a)(n.events,y.a.Click),n.isSponsored&&n.source&&n.source.outboundUrl?Object(m.b)(n.source.outboundUrl,m.a.BLANK):o?window.open(n.permalink):t.openLightbox(n)},He.set(n,o)),o},Je=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.scrollChildCache=new De.a(qe),e.updateScrollerRef=function(t){return e.scrollerRef=t&&Object(a.findDOMNode)(t)},e.setLastVisibleChildRendered=function(){e.didRenderLastVisibleChild=!0,e.checkAndSendScreenview()},e.dispatchBrandSafety=r()(function(t){var n=t.getVisibleItemsInViewport,o=e.props,r=o.postsById,i=o.subredditsById,s=[];n().forEach(function(e){return s.push(e.id)});var d=s.map(function(e){return r[e]}),c=d.map(function(e){return i[e.belongsTo.id]}).filter(function(e){return void 0!==e});e.props.adBrandSafetyStatusReceived(!Object(Re.a)(d),Object(Re.b)(c))},u.e,{leading:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),ze(t,[{key:"componentWillMount",value:function(){this.timerId&&Ne.c.cancel(this.timerId),this.props.postIds.length&&(this.timerId=Ne.c.start())}},{key:"componentDidMount",value:function(){if(this.checkAndSendScreenview(),this.timerId){var e=Ne.c.end(this.timerId);setTimeout(function(){return Object(Ne.b)(u.n.Redesign,{type:"mount",component:"postList",duration:e})},0)}}},{key:"componentWillUpdate",value:function(e){this.timerId&&Ne.c.cancel(this.timerId),e.postIds.length&&(this.timerId=Ne.c.start()),(e.listingKey!==this.props.listingKey||e.postIds.length!==this.props.postIds.length&&!this.isListLongEnough())&&(this.didRenderLastVisibleChild=!1)}},{key:"componentDidUpdate",value:function(e){if(this.checkAndSendScreenview(),this.timerId&&Ne.c.has(this.timerId)){var t=Ne.c.end(this.timerId);if(t<10)return;setTimeout(function(){return Object(Ne.b)(u.n.Redesign,{duration:t,type:"mount",component:"postList"})},0)}}},{key:"componentWillUnmount",value:function(){this.timerId&&Ne.c.cancel(this.timerId),this.scrollerRef=null,this.didRenderLastVisibleChild=!1}},{key:"isListLongEnough",value:function(){var e=this.scrollerRef&&Array.from(this.scrollerRef.children),t=e&&s()(e);return t&&t.getBoundingClientRect().bottom>window.innerHeight}},{key:"shouldSendScreenview",value:function(){var e=this.props,t=e.apiError,n=e.listingKey,o=e.viewportDataLoaded;return Ne.c.has(n)&&(t||!this.renderingPlaceholder&&(this.renderingEmpty||this.didRenderLastVisibleChild&&(o||this.isListLongEnough())))}},{key:"checkAndSendScreenview",value:function(){var e=this.props,t=e.listingKey,n=e.listingViewed,o=e.sendEvent;if(this.shouldSendScreenview()){var r=Ne.c.end(t);setTimeout(function(){o(n(r,Fe.TimerType.InApp))},0)}}},{key:"showPlaceholder",value:function(){var e=this.props,t=e.apiError,n=e.apiPending;return Boolean(t)||!1!==n}},{key:"hasPosts",value:function(){return this.props.postIds.length>0}},{key:"isLoadingMore",value:function(){var e=this.props,t=e.loadMore,n=e.postIds;return Boolean(t&&t.loadMorePost)&&n.length>0}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.postsById,o=We(t,["postsById"]),r=e.postsById,i=We(e,["postsById"]),s=Object.keys(o),d=Object.keys(i);if(d.length!==s.length)return!0;if(d.some(function(e){return o[e]!==i[e]}))return!0;if(n===r)return!1;if(this.props.postIds&&this.props.postIds.length){var c=this.props,a=c.layout,l=c.postComponentForLayout;return this.props.postIds.some(function(e,t){var o=0===t;return l(n[e],a,o)!==l(r[e],a,o)})}return!1}},{key:"scrollChildForPost",value:function(e,t,n,o){var r=this.props,i=r.listingKey,s=r.listingName,d=r.postClickEvent,c="post-"+o+"-"+e+"-"+t+"-"+(n?"last-index":"")+"-"+s+"-"+i,a=void 0;if(void 0===(a=this.scrollChildCache.get(c))){var l=this.props,p=l.inSubredditOrProfile,m=l.postsById,h=m[e],v=h.crosspostRootId&&m[h.crosspostRootId]?m[h.crosspostRootId]:h;h.crosspostRootId&&!m[h.crosspostRootId]&&Object(f.c)("Post "+h.id+" is crosspost of "+h.crosspostRootId+",\n          but "+h.crosspostRootId+" details are missing in the state",{extra:{errorType:u.q.API}});var g=this.props.postComponentForLayout(v,o,0===t),b="post-list-item-[layout: "+o+"]-[postId: "+e+"]",y=function(e,t,n,o,r,i){var s="entered-"+e+"-"+t+"-"+(n?"last-"+o+"-"+r:""),d=$e.get(s);return void 0===d&&(d=function(){n&&i.onBottomViewed(o,r),i.trackOnPostEnteredViewport(e,t)},$e.set(s,d)),d}(e,o,n,i,s,this.props),x=function(e,t,n){var o="left-"+e+"-"+t,r=Ue.get(o);return void 0===r&&(r=function(o){n.trackOnPostExitedViewport(e,t,o)},Ue.set(o,r)),r}(e,o,this.props),w=Qe(e,this.props),C=v.media&&v.media.type===Me.l.EMBED?v.media.provider:null;a={estHeight:function(e,t){if(e.isBlank)return 0;switch(t){case O.e.Medium:return 188;case O.e.Classic:return 96;case O.e.Compact:return 32;default:return 200}}(h,o),id:e,isFocusable:!(!v.media||o!==O.e.Large)&&(Me.c.has(v.media.type)&&(!C||!Me.o.has(C))&&!v.isSpoiler&&!v.isNSFW),trackOnEnteredViewport:y,trackOnExitedViewport:x,render:function(t){var o=t.className,r=(t.height,t.width),i=t.remeasure,s=t.setScrollerChildRef,c=t.shouldLoadInitially;return Ke(g,{className:o,availableWidth:r,eventFactory:d,forceLoadMedia:c,inSubredditOrProfile:p,last:n,onClickPost:w,onSizeChanged:i,postId:e,scrollerItemRef:s},b)}},this.scrollChildCache.set(c,a)}return a}},{key:"render",value:function(){return this.hasPosts()?(this.renderingEmpty=!1,this.renderingPlaceholder=!1,this.renderList()):this.showPlaceholder()?(this.renderingEmpty=!1,this.renderingPlaceholder=!0,this.renderPlaceholder()):(this.renderingEmpty=!0,this.renderingPlaceholder=!1,this.renderEmpty())}},{key:"renderEmpty",value:function(){var e=this.props.noPostsComponent;return Ke(e,{})}},{key:"renderPlaceholder",value:function(){var e=this.props,t=e.apiError,n=e.className,o=e.layout,r=e.onTryAgain,i=e.postListPlaceholderComponent;return Ke("div",{className:Be.a.placeholder},void 0,Ke(i,{className:n,isLoading:!t,layout:o}),!!t&&Ke(v.a,{apiError:t,onTryAgain:r}))}},{key:"renderLoadMore",value:function(){var e=this.props,t=e.apiError,n=e.apiPending,o=e.layout,r=e.onLoadMore;return Ke("div",{className:Be.a.placeholder},void 0,Ke(h.a,{isLoading:!!n,layout:o,countOverride:Ge[o]}),!!t&&Ke(v.a,{apiError:t,onTryAgain:r}))}},{key:"renderList",value:function(){var e=this,t=this.props,n=t.layout,o=t.loadMore,r=t.postIds,i=t.onLoadMore,s=r.map(function(t,o,i){var s=o===r.length-1;return e.scrollChildForPost(t,o,s,n)}),d=this.props.measureScrollFPS?"post-listings-"+n:void 0;return Ke("div",{},void 0,Ke(g.a,{location:w.h.SubredditPage}),Ke(b.b,{innerRef:this.updateScrollerRef,className:this.props.className,dataKey:this.props.listingKey,disableScrollCache:!0,enableElementHiding:!0,layoutKey:this.props.layout,loadMoreId:o&&o.loadMorePost,onLastVisibleChildRendered:this.setLastVisibleChildRendered,onLoadMore:i,onScroll:this.dispatchBrandSafety,trackingName:d,viewportTopPadding:x.h},this.props.listingKey,s),this.isLoadingMore()&&this.renderLoadMore())}}]),t}(),Xe=p()(Je).withConfig({componentId:"hfnwn5-0"})(["min-height: 1000px;width: 100%;"]),Ze=(Ve=Xe,Object(S.b)(G(Q(Ve)))),Ye=function(e){return Object(S.b)(Le(Te(e)))}(Xe),et=function(e){return Object(S.b)(Ie(ke(e)))}(Xe);t.d=function(e){return Object(S.b)(B(W(e)))}(Xe)},"./src/reddit/components/SubredditNameAndIcon/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return p});n("./node_modules/react/index.js");var o,r=n("./node_modules/react-router-dom/es/index.js"),i=n("./bundled-modules/styled-components/styled-components.min.js"),s=n.n(i),d=n("./src/reddit/components/SubredditIcon/index.tsx"),c=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),a=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),l=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),p=s()(r.a).withConfig({componentId:"aiwr7j-0"})(["","display: inline-block;line-height: 20px;text-decoration: none;vertical-align: middle;&:hover {text-decoration: underline;}"],c.actionFont),u=s()(d.b).withConfig({componentId:"aiwr7j-1"})(["width: 20px;height: 20px;margin-right: 4px;"]);s()(function(e){return l("div",{className:e.className},void 0,l(p,{"data-click-id":"subreddit",to:e.url},void 0,l(u,{primaryColor:e.subredditIcon.color,iconUrl:e.subredditIcon.url})),l(p,{"data-click-id":"subreddit",to:e.url},void 0,e.displayText))}).withConfig({componentId:"aiwr7j-2"})(["color: ",";"],function(e){return Object(a.c)(e).bodyText})},"./src/reddit/helpers/postComponentForLayout/index.tsx":function(e,t,n){"use strict";var o,r,i=n("./node_modules/react/index.js"),s=n.n(i),d=n("./src/lib/logs/console.ts"),c=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/reselect/lib/index.js"),l=n("./src/reddit/actions/post.ts"),p=n("./src/reddit/components/AdViewability/index.tsx"),u=n("./src/reddit/selectors/posts.ts"),m=n("./src/lib/classNames/index.ts"),f=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),h=Object(c.connect)(function(){return Object(a.createStructuredSelector)({post:u.x})},function(e){return{onPostViewable:function(t,n){return e(Object(l.v)(t,n))}}})(function(e){var t=e.className,n=e.post,o=e.onPostViewable;return n.isSponsored?f(p.a,{onViewable:function(e){return o(n,e)},children:f("div",{className:Object(m.a)(t,"Blank "+n.id)}),trackVideoMetrics:!1}):null}),v=n("./src/reddit/components/ClassicPost/index.tsx"),g=n("./src/reddit/components/CompactPost/index.tsx"),b=n("./src/reddit/components/LargePost/index.tsx"),y=n("./src/reddit/components/MediumPost/index.tsx"),x=n("./src/reddit/constants/postLayout.ts"),O=n("./src/reddit/models/Media/index.ts");function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return j}),n.d(t,"b",function(){return k});var C=(w(r={},x.e.Large,b.a),w(r,x.e.Medium,y.b),w(r,x.e.Classic,v.c),w(r,x.e.Compact,g.a),r),j=function(e){return s.a.createElement(h,e)},I=function(e){return!e.media||e.media.type===O.l.EMBED&&!(O.a.has(e.media.provider)||function(e){return e.source&&e.source.url&&e.source.url.startsWith("https://player.wbur.org")}(e))};function k(e,t,n){if(e.isBlank)return j;t===x.e.Large&&I(e)&&(t=x.e.Medium);var o=C[t];return void 0===o?(Object(d.a)(void 0,"Could not find component for layout "+t+"."),j):n&&e.isSponsored&&t===x.e.Large?y.b:o}},"./src/reddit/selectors/tracking.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return a});var o=n("./node_modules/lodash/without.js"),r=n.n(o),i=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeSearchKey/index.ts"),d=function(e,t){var n=t.listingKey;return e.tracking.viewportDataLoaded[n]},c=function(e,t){var n=t.listingKey;return e.tracking.viewportDataLoaded[Object(s.a)(n,[i.xb.Posts])]},a=function(e,t){var n=t.listingKey,o=t.searchOptions,d=Object(s.a)(n,r()(o.type,i.xb.Posts));return e.tracking.viewportDataLoaded[d]}}}]);
//# sourceMappingURL=Frontpage~ModQueuePages~Multireddit~News~OriginalContent~ProfilePage~SearchResults~Subreddit.ccf37f5d421510c60499.js.map